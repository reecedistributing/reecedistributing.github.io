webpackJsonp([2],{"0del":function(t,e,r){var a=r("X1Xr");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("a8bc83bc",a,!0)},"5UhF":function(t,e,r){var a=r("iTh6");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("1ddbc0dd",a,!0)},"6ZcI":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-layout",[r("v-flex",{staticClass:"mt-4",attrs:{xs11:"",md6:"","offset-md3":"","justify-space-around":""}},[r("transition",{staticClass:"grey--text",attrs:{name:"slide-x-reverse-transition"}},[t.sortOptionsActive?r("v-layout",[r("v-flex",{attrs:{xs5:""}},[r("v-select",{attrs:{label:"Sort By",items:t.sortable},model:{value:t.sortAttribute,callback:function(e){t.sortAttribute=e},expression:"sortAttribute"}})],1),r("v-flex",{attrs:{xs7:"","justify-space-between":""}},[r("v-radio-group",{staticClass:"text-xs-center",attrs:{row:""},model:{value:t.ascending,callback:function(e){t.ascending=e},expression:"ascending"}},[r("v-radio",{attrs:{label:"ascending",value:!0}}),r("v-radio",{attrs:{label:"descending",value:!1}},[r("v-spacer")],1)],1)],1)],1):t._e()],1),t.loading?r("v-progress-linear",{attrs:{transition:"fade-transition",indeterminate:!0,color:"info"}}):t._e()],1),r("v-flex",{staticClass:"text-lg-right",attrs:{xs1:"","offset-md3":""}},[r("v-tooltip",{attrs:{bottom:""}},[r("v-btn",{attrs:{slot:"activator",flat:"",icon:"",large:""},on:{click:t.toggleSortOptions},slot:"activator"},[r("v-icon",[t._v("sort")])],1),r("span",[t._v("Sort Options")])],1)],1)],1)],1),r("v-flex",{attrs:{xs12:""}},[r("v-container",{staticClass:"grey lighten-4",attrs:{fluid:"","grid-list-md":""}},[r("v-layout",{attrs:{row:"",wrap:"","justify-start":"","align-start":""}},t._l(t.products,function(e){return r("v-flex",t._b({key:e.slug},"v-flex",(a={},a["lg"+e.flex]=!0,a),!1),[r("ProductCard",{attrs:{product:e}})],1);var a}))],1)],1)],1)},i=[],n={render:a,staticRenderFns:i};e.a=n},"9cfU":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",[r("v-tabs",{attrs:{dark:"",grow:"",default:"views[activeView]"},model:{value:t.activeView,callback:function(e){t.activeView=e},expression:"activeView"}},[r("v-toolbar",{staticClass:"primary",attrs:{"not-extended":""}},[r("v-toolbar-side-icon",{staticClass:"white--text text--darken-1"}),r("v-toolbar-title",{staticClass:"white--text"},[t._v("Products")]),t.searchActive?t._e():r("v-spacer"),r("transition",{staticClass:"grey--text",attrs:{name:"slide-x-reverse-transition"}},[t.searchActive?r("v-flex",{attrs:{sm6:"","offset-sm3":"","justify-content":"right"}},[r("form",{on:{submit:function(e){e.preventDefault(),t.searchProducts(e)}}},[r("v-text-field",{attrs:{autofocus:!0,transition:"slide-x-reverse-transition",solo:"",label:"Search","append-icon":"keyboard_voice","prepend-icon":"search",color:"black","text-color":"black"},on:{blur:t.tryDeactivate},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]):t._e()],1),r("v-spacer"),t.searchActive?t._e():r("v-btn",{staticClass:"white--text text--darken-1",attrs:{icon:""},on:{click:t.activateSearch}},[r("v-icon",[t._v("search")])],1),r("v-btn",{staticClass:"white--text text--darken-1",attrs:{icon:""}},[r("v-icon",[t._v("more_vert")])],1)],1),r("v-tabs-bar",[r("v-tabs-slider",{attrs:{color:"yellow"}}),t._l(t.views,function(e,a){return r("v-tabs-item",{key:a,attrs:{nuxt:!0,target:a,href:"#"+a,ripple:""},on:{click:function(e){t.switchView(a)}}},[t._v(t._s(a))])}),r("v-btn",{staticClass:"white--text text--darken-1",attrs:{nuxt:!0,to:{name:"products-new"},flat:!0}},[t._v("New Product")])],2),r("v-tabs-items",t._l(t.views,function(e,a){return r("v-tabs-content",{key:a,attrs:{id:a}},[r("v-flex",{attrs:{xs10:"","offset-xs1":""}},[r(e,{tag:"component",attrs:{products:t.products,loading:t.loading,initial_sort_attr:t.sortBy.attribute,initial_sort_ascending:t.sortBy.ascending},on:{sort:t.updateRouteWithSortParams}})],1)],1)})),r("v-container",[r("v-layout",{attrs:{"justify-center":""}},[r("v-flex",{attrs:{xs8:""}},[r("v-card",[r("v-card-text",[r("v-pagination",{attrs:{length:t.pageCount},model:{value:t.pageNum,callback:function(e){t.pageNum=e},expression:"pageNum"}})],1)],1)],1)],1)],1)],1)],1)},i=[],n={render:a,staticRenderFns:i};e.a=n},BcRc:function(t,e,r){"use strict";function a(t){r("5UhF")}var i=r("F7sC"),n=r("Onau"),s=r("VU/8"),o=a,c=s(i.a,n.a,!1,o,null,null);e.a=c.exports},F7sC:function(t,e,r){"use strict";e.a={data:function(){return{search:"",pagination:{descending:!this.initial_sort_ascending,sortBy:this.initial_sort_attr},totalItems:0,selected:[],headers:[{text:"name",value:"name"},{text:"description",value:"description"},{text:"Min Price",value:"price_low",render:function(t){return t?"$"+t:"None"}},{text:"Max Price",value:"price_high",render:function(t){return t?"$"+t:"None"}},{text:"Created (Date)",value:"created_at",render:function(t){return new Date(parseInt(t)).toLocaleDateString()}},{text:"Updated (Date)",value:"updated_at",render:function(t){return new Date(parseInt(t)).toLocaleDateString()}}]}},watch:{pagination:{handler:function(){var t=this.pagination,e=t.sortBy,r=t.descending,a=(t.page,t.rowsPerPage,{attribute:e,ascending:!r});this.$emit("sort",a)},deep:!0}},computed:{items:function(){return this.products.forEach(function(t){var e=t.name+" "+t.description+" "+t.created_at,r=e.toLowerCase().replace(/(\s)/g,"-");console.log(r)}),this.products}},props:{products:{type:Array,required:!0},loading:{type:Boolean,required:!0},initial_sort_attr:{type:String,required:!0},initial_sort_ascending:{type:Boolean,required:!0}}}},KNkx:function(t,e,r){var a=r("fxEt");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("cb220d6c",a,!0)},KxcQ:function(t,e,r){"use strict";e.a={props:{product:{required:!0,type:Object}}}},Onau:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{"justify-center":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,loading:t.loading,pagination:t.pagination,"hide-actions":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.header.text))]),r("span",[t._v(t._s(e.header.text))]),r("v-divider")],1)]}},{key:"items",fn:function(e){return t._l(t.headers,function(a){return r("td",{staticClass:"text-xs-right"},[r("nuxt-link",{staticClass:"lowkey_link",attrs:{to:{name:"products-slug",params:{slug:e.item.slug}},tag:"div"}},[t._v(" "+t._s(a.render?a.render(e.item[a.value]):e.item[a.value]))])],1)})}}])})],1)],1)],1)},i=[],n={render:a,staticRenderFns:i};e.a=n},PQc7:function(t,e,r){var a=r("cxSu");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("76b9ff5e",a,!0)},RgeR:function(t,e,r){"use strict";var a=r("h2p5");e.a={data:function(t){return{sortAttribute:null,ascending:!1,sortOptionsActive:!1,sortable:[{text:"name",value:"name"},{text:"description",value:"description"},{text:"Min Price",value:"price_low",render:function(t){return t?"$"+t:"None"}},{text:"Max Price",value:"price_high",render:function(t){return t?"$"+t:"None"}},{text:"Created (Date)",value:"created_at",render:function(t){return new Date(parseInt(t)).toLocaleDateString()}},{text:"Updated (Date)",value:"updated_at",render:function(t){return new Date(parseInt(t)).toLocaleDateString()}}]}},props:{products:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1},initial_sort_attr:{type:String,required:!0},initial_sort_ascending:{type:Boolean,required:!0}},components:{ProductCard:a.a},watch:{ascending:function(){this.emitSort()},sortAttribute:function(){this.emitSort()}},methods:{emitSort:function(){this.$emit("sort",{ascending:this.ascending,attribute:this.sortAttribute})},activateSortOptions:function(){this.sortOptionsActive=!0},deactivateSortOptions:function(){this.sortOptionsActive=!1},toggleSortOptions:function(){this.sortOptionsActive=!this.sortOptionsActive}},mounted:function(){this.sortAttribute=this.initial_sort_attr,this.ascending=this.initial_sort_ascending}}},X1Xr:function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,"",""])},cxSu:function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,"",""])},fxEt:function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,"",""])},h2p5:function(t,e,r){"use strict";function a(t){r("0del")}var i=r("KxcQ"),n=r("pJt+"),s=r("VU/8"),o=a,c=s(i.a,n.a,!1,o,null,null);e.a=c.exports},hp28:function(t,e,r){"use strict";function a(t){r("PQc7")}Object.defineProperty(e,"__esModule",{value:!0});var i=r("iL/k"),n=r("9cfU"),s=r("VU/8"),o=a,c=s(i.a,n.a,!1,o,null,null);e.default=c.exports},"iL/k":function(t,e,r){"use strict";var a=r("Dd8w"),i=r.n(a),n=r("Xxa5"),s=r.n(n),o=r("exGp"),c=r.n(o),u=r("nU52"),l=r("BcRc");e.a={data:function(){return{search:"",searchActive:!1,loading:!1,products:[],pageCount:1,pageNum:1,sortBy:{attribute:"updated_at",ascending:!0},views:{grid:"ProductGrid",table:"ProductTable"},activeView:"grid"}},asyncData:function(){function t(t){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(e){var r,a,i,n,o,c,u,l,d,v,p,f,h,g,x,_,m=e.store,b=e.query;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.page,a=void 0===r?1:r,i=b.view,n=void 0===i?"grid":i,o=b.search,c=void 0===o?"":o,u=b.sort_ascending,l=void 0===u?"false":u,d=b.sort_attribute,v=void 0===d?"updated_at":d,l=JSON.parse(l),p={ascending:l,attribute:v},a=parseInt(a),f=!!c,h=15,t.next=8,m.dispatch("products/getProducts",{num:a,size:h,search:c,orderBy:p});case 8:return g=t.sent,x=g.products,_=g.pagination.pageCount,t.abrupt("return",{products:x,pageCount:_,pageNum:a,activeView:n,search:c,searchActive:f,sortBy:p});case 12:case"end":return t.stop()}},t,this)}));return t}(),computed:{activeComponent:function(){return this.views[this.activeView]}},methods:{searchProducts:function(){function t(){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loading=!0,e=this.search,this.$router.push({query:i()({},this.$route.query,{page:1,search:e})}),this.loading=!1;case 4:case"end":return t.stop()}},t,this)}));return t}(),tryDeactivate:function(){this.search.length||this.deactivateSearch()},activateSearch:function(){this.searchActive=!0},deactivateSearch:function(){this.searchActive=!1},updateRouteWithPageNumber:function(){var t=this.pageNum;this.$router.push({query:i()({},this.$route.query,{page:t})})},updateRouteWithSortParams:function(t){var e=t.ascending,r=t.attribute;this.$router.push({query:i()({},this.$route.query,{sort_ascending:e,sort_attribute:r})})},switchView:function(t){this.$router.push({query:i()({},this.$route.query,{view:t})})}},watch:{pageNum:function(){console.log("updated"),this.updateRouteWithPageNumber()},sortBy:{deep:!0}},components:{ProductGrid:u.a,ProductTable:l.a}}},iTh6:function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,"",""])},nU52:function(t,e,r){"use strict";function a(t){r("KNkx")}var i=r("RgeR"),n=r("6ZcI"),s=r("VU/8"),o=a,c=s(i.a,n.a,!1,o,null,null);e.a=c.exports},"pJt+":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nuxt-link",{staticClass:"lowkey_link",attrs:{to:{name:"products-slug",params:{slug:t.product.slug}},tag:"div"}},[r("v-card",[r("v-card-media",{attrs:{src:t.product.main_img_url,height:"250px"}},[r("v-container",{attrs:{"fill-height":"",fluid:""}},[r("v-layout",{attrs:{"fill-height":""}},[r("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}})],1)],1)],1),r("v-card-title",[r("div",[r("h3",{staticClass:"headline mb-0 black--text",domProps:{textContent:t._s(t.product.name)}}),r("div",[t._v(t._s(t.product.description))])])]),r("v-card-actions",{staticClass:"white"},[r("v-spacer"),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{icon:""}},[t._v(t._s(Math.random()>.5?"add_shopping_cart":"remove_shopping_cart"))])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("bookmark")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("share")])],1)],1)],1)],1)},i=[],n={render:a,staticRenderFns:i};e.a=n}});
//# sourceMappingURL=index.e3c86b4487314e3886a6.js.map