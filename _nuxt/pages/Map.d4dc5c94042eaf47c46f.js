webpackJsonp([13],{"/NMr":function(t,o,e){(t.exports=e("FZ+f")(!1)).push([t.i,".country{fill:#d3d3d3;stroke:#a9a9a9;stroke-width:1px}.country:hover{fill:#a9a9a9}div.tooltipDestination{background:red}div.tooltipDestination,div.tooltipOrigin{position:absolute;text-align:center;width:60px;height:16px;padding:2px;font:12px sans-serif;border:0;border-radius:0;pointer-events:none;padding-top:5px}div.tooltipOrigin{background:green}",""])},"8r/x":function(t,o,e){var n=e("/NMr");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("5e9bde3c",n,!1,{sourceMap:!1})},R8AI:function(t,o,e){"use strict";var n=e("/5sW");o.a={data:function(t){return{loaded:[!1,!1]}},methods:{setLoaded:function(){},onLoad:function(){console.log("loaded scripts"),function(){var t=window,o={originGeo:[44.0077,116.9165]};o.originGeo=[16.8286,52.42],o.originName="POZ",o.destinations=[{coord:[45.7833,108.5007]},{coord:[45.5231,122.6765]}],o.destinations=[{coord:[20.9679,52.1672],name:"WAW"},{coord:[23.9569,49.8134],name:"LWO"},{coord:[30.4433,50.412],name:"IEV"},{coord:[13.3724,55.5355],name:"MMX"},{coord:[12.6508,55.618],name:"CPH"},{coord:[16.9154,58.789],name:"NYO"},{coord:[10.2569,59.1824],name:"TRF"},{coord:[9.1526,55.7408],name:"BLL"},{coord:[8.5622,50.0379],name:"FRA"},{coord:[11.775,48.3537],name:"MUC"},{coord:[5.3921,51.4584],name:"EIN"},{coord:[2.1115,49.4545],name:"BVA"},{coord:[-2.7135,51.3836],name:"BRS"},{coord:[.3717,51.8763],name:"LTN"},{coord:[.2389,51.886],name:"STN"},{coord:[-1.743507,52.4524],name:"BHX"},{coord:[-2.8544,53.3375],name:"LPL"},{coord:[-3.3615,55.9508],name:"EDI"},{coord:[-1.010464,53.480662],name:"DSA"},{coord:[-6.2499,53.4264],name:"DUB"},{coord:[-.560056,38.285483],name:"ALC"},{coord:[.065603,40.207479],name:"CDT"},{coord:[-3.56795,40.4839361],name:"MAD"},{coord:[2.071062,41.288288],name:"BCN"},{coord:[2.766066,41.898201],name:"GRO"},{coord:[14.483279,35.854114],name:"MLA"},{coord:[23.9484,37.9356467],name:"ATH"},{coord:[19.914486,39.607645],name:"CFU"},{coord:[34.9362,29.9511],name:"VDA"},{coord:[34.8854,32.0055],name:"TLV"}],o.svg=void 0,o.projection=void 0,o.speed=2800;var e=d3.select("#map").append("div").attr("class","tooltipDestination").style("opacity",0);function n(r){var a,s,c,d,l,p,u,f=o.destinations[r],m=o.projection(o.originGeo),y=o.projection(f.coord),g=[m,y],v=f.name,h=(o.originGeo,f.coord),x=o.svg,j=(a=o.originGeo[1],s=o.originGeo[0],c=h[1],d=h[0],l=.017453292519943295,p=Math.cos,u=.5-p((c-a)*l)/2+p(a*l)*p(c*l)*(1-p((d-s)*l))/2,12742*Math.asin(Math.sqrt(u))),w=function(t){return t/o.speed*1e3}(j);x.append("path").datum(g).attr("class","arc"+r).attr("d",function(t){var o={origin:{x:t[0][0],y:t[0][1]},destination:{x:t[1][0],y:t[1][1]}},e=!1;return o.destination.x>o.origin.x&&(e=!0),function(t,o){var e=t.destination.x-t.origin.x,n=t.destination.y-t.origin.y,r=Math.sqrt(e*e+n*n),i=0==o?" 0 0,0 ":" 0 0,1 ";return"M"+t.origin.x+","+t.origin.y+"A"+r+","+r+i+t.destination.x+","+t.destination.y}(o,e)}).style("stroke","steelblue").style("stroke-width",2).style("fill","none").transition().duration(w).attrTween("stroke-dasharray",function(){var t=this.getTotalLength();return function(o){return d3.interpolate("0,"+t,t+",0")(o)}}).on("end",function(a){var s=g[1];x.append("circle").attr("cx",s[0]).attr("cy",s[1]).attr("r",0).attr("class","destCircleInner").style("fill","steelblue").style("fill-opacity","1").transition().duration(300).attr("r","3px"),x.append("circle").attr("cx",s[0]).attr("cy",s[1]).attr("r",0).attr("class","destCircleOuter").style("fill","black").style("fill-opacity","0.05").transition().duration(300).attr("r","10px"),x.append("circle").datum(s).attr("cx",s[0]).attr("cy",s[1]).attr("r",0).style("class","destCircleMouse").style("fill","steelblue").style("fill-opacity","1").on("mouseover",function(t){e.html('<span style="color:white">'+v+"</span>").attr("class","tooltipDestination").style("left",t[0]+12+"px").style("top",t[1]-20+"px").transition().duration(700).style("opacity",1)}).on("mouseout",function(t){e.transition().duration(700).style("opacity",0)}).transition().duration(300).attr("r","3px").on("end",function(e){d3.select(t).transition().duration(2e3).attr("r",20).style("fill-opacity","0"),d3.select(".arc"+r).transition().duration(2e3).style("stroke-opacity","0").style("stroke-width","1").on("end",function(t){if(r===o.destinations.length-1)for(x.selectAll(".destCircleInner").remove(),x.selectAll(".destCircleOuter").remove(),x.selectAll(".destCircleMouse").remove(),i=0;i<o.destinations.length;i++)x.selectAll(".arc"+i).remove();var e=r+1;e<o.destinations.length?n(e):n(0)})})})}!function(t,r,i){var a,s,c;window;o.projection=d3.geoMercator().scale(700).translate([400,0]).center([4,68.6]);s=d3.geoPath().projection(o.projection),c=d3.select("#map").append("svg").attr("height",800).attr("width",800).style("background","#C1E1EC"),a=c.append("g");var d="https://fortress.wa.gov/dnr/arcgisext/weba_ext_prod1/rest/services/OpenData/WADNR_Natural_Heritage_Open_Data/MapServer/0/query?where=1%3D1&outFields=*&outSR=4326&f=json";d="https://raw.githubusercontent.com/jesion/d3js-flight-connections-map/master/src/europe.json",d3.json(d,function(t){a.selectAll(".country").data(topojson.feature(t,t.objects.europe).features).enter().append("path").attr("class","country").attr("d",s)});var l=c.selectAll("circleOrigin");l.data([o.originGeo]).enter().append("circle").attr("cx",function(t){return o.projection(t)[0]}).attr("cy",function(t){return o.projection(t)[1]}).attr("r","3px").style("opacity",1).attr("fill","green").attr("class","circleOrigin"),l.data([o.originGeo]).enter().append("circle").attr("cx",function(t){return o.projection(t)[0]}).attr("cy",function(t){return o.projection(t)[1]}).attr("r","10px").style("opacity",.05).attr("fill","black").attr("class","circleOrigin").on("mouseover",function(n){e.html('<span style="color:white">'+t+"</span>").attr("class","tooltipOrigin").style("left",o.projection(n)[0]+12+"px").style("top",o.projection(n)[1]-20+"px").transition().duration(700).style("opacity",1)}).on("mouseout",function(t){e.transition().duration(700).style("opacity",0)}),o.svg=c,o.projection=o.projection,o.originGeo=o.originGeo,n(0)}(o.originName,o.originGeo,o.destinations)}.apply(window)}},watch:{loaded:{deep:!0,handler:function(t){t[0]&&t[1]&&this.onLoad()}}},mounted:function(){var t=this;["http://d3js.org/d3.v4.min.js","http://d3js.org/topojson.v1.min.js"].forEach(function(o,e){console.log(o);var r=document.createElement("script");r.addEventListener("load",function(r){console.log("src loaded",o),n.default.set(t.loaded,e,!0)}),r.type="text/javascript",r.src=o,document.body.appendChild(r)})}}},boJJ:function(t,o,e){"use strict";var n=function(){var t=this.$createElement;this._self._c;return this._m(0)};n._withStripped=!0;var r={render:n,staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",[this._v("coool"),o("div",{attrs:{id:"map"}})])}]};o.a=r},z1QJ:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("R8AI"),r=e("boJJ"),i=!1;var a=function(t){i||e("8r/x")},s=e("VU/8")(n.a,r.a,!1,a,null,null);s.options.__file="pages/Map.vue",o.default=s.exports}});