webpackJsonp([6],{"/pXM":function(t,e,r){var s=r("XPIt");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r("rjj0")("749c48ba",s,!1,{sourceMap:!1})},"4pEC":function(t,e,r){"use strict";var s=r("Xxa5"),a=r.n(s),i=r("exGp"),n=r.n(i),o=r("Dd8w"),u=r.n(o),c=r("NYxO");e.a={methods:u()({add:function(){var t=n()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.addProduct({product:this.product});case 2:this.notify({text:"Product added to inquiry.",suffixIcon:"thumb_up"});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),remove:function(){var t=n()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.removeProduct({product:this.product});case 2:this.notify({text:"Product removed from inquiry.",color:"black"});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},Object(c.mapActions)("notifications",["notify"]),Object(c.mapActions)("inquiries",["addProduct","removeProduct"])),computed:u()({isInCurrentInquiry:function(){return this.currentInquiry.products[this.product.id]}},Object(c.mapState)("inquiries",{currentInquiry:"current"})),props:{product:{},bindings:{type:Object,default:function(){return{}}},dark:{type:Boolean,default:function(){return!1}}}}},"5AFN":function(t,e,r){"use strict";var s,a=r("MICi"),i=r.n(a),n=r("BO1k"),o=r.n(n),u=r("c/Tr"),c=r.n(u),l=r("Xxa5"),p=r.n(l),d=r("exGp"),v=r.n(d),h=(r("NYxO"),r("h2p5"));s=[],e.a={asyncData:function(){var t=v()(p.a.mark(function t(e){var r,s=e.store;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.dispatch("products/getSupplierNames");case 2:return r=t.sent,t.abrupt("return",{supplierNameOptions:r,supplierName:r[1]});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),data:function(t){return{tableData:"",tableDataPlaceholder:"6140-S (COW) (120 EA)\t6127-S\n1545-2XLRG (120EA)(2XL MAJESTIC)\t6002-2XL\n\t\n6170-S  GOLD W/PATCH  (12PR)\t6504-S\n3611-2XS  GOATSKIN PAKISTAN\t6817-2XS\n",supplierNameOptions:[],supplierName:"",results:c()(s),submitted:!1,resultTypes:{SUCCESS:"SUCCESS",FAIL:"FAIL"},pairs:[]}},methods:{restart:function(){this.tableData="",this.pairs=[],this.results=[],this.submitted=!1},formatResult:function(t){return{type:t.type,value:t.value,warehouseId:t.warehouseId,supplierId:t.supplierId,supplierName:t.supplierName,key:Date.now()+Math.random()}},handleSubmit:function(){var t=v()(p.a.mark(function t(){var e,r,s,a,i,n,u,c,l,d,v,h;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.submitted=!0,t.next=4,this.$store.dispatch("products/convertCsvToIdPairs",{csvString:this.formattedTableDataString});case 4:e=t.sent,this.pairs=e,r=!0,s=!1,a=void 0,t.prev=9,i=o()(e);case 11:if(r=(n=i.next()).done){t.next=32;break}return u=n.value,c=u.warehouseId,l=u.supplierId,d=void 0,t.prev=15,t.next=18,this.$store.dispatch("products/syncWithSupplier",{warehouseId:c,supplierId:l,supplierName:this.supplierName});case 18:return v=t.sent,t.next=21,this.$store.dispatch("products/getProduct",{id:v});case 21:h=t.sent,d=this.formatResult({type:this.resultTypes.SUCCESS,value:h,warehouseId:c,supplierId:l,supplierName:this.supplierName}),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(15),d=this.formatResult({type:this.resultTypes.FAIL,value:t.t0.message,warehouseId:c,supplierId:l,supplierName:this.supplierName});case 28:this.results.unshift(d);case 29:r=!0,t.next=11;break;case 32:t.next=38;break;case 34:t.prev=34,t.t1=t.catch(9),s=!0,a=t.t1;case 38:t.prev=38,t.prev=39,!r&&i.return&&i.return();case 41:if(t.prev=41,!s){t.next=44;break}throw a;case 44:return t.finish(41);case 45:return t.finish(38);case 46:t.next=51;break;case 48:t.prev=48,t.t2=t.catch(0),this.$store.dispatch("notifications/notify",{text:"Error syncing products.",color:"error"});case 51:case"end":return t.stop()}},t,this,[[0,48],[9,34,38,46],[15,25],[39,,41,45]])}));return function(){return t.apply(this,arguments)}}()},computed:{formattedTableDataString:function(){var t=this.tableData;return t.split(",").length<t.split("\t").length&&(t=t.split("\t").join(",")),t},progress:function(){var t=Math.floor(this.results.length/this.pairs.length*100);return i()(t)?100:t}},mounted:function(){var t=v()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),components:{ProductCard:h.a}}},Iuir:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("5AFN"),a=r("czqv"),i=!1;var n=function(t){i||r("/pXM")},o=r("VU/8")(s.a,a.a,!1,n,null,null);o.options.__file="pages/products/supplier-sync.vue",e.default=o.exports},K4R9:function(t,e,r){r("NA/8"),t.exports=r("FeBl").Number.isNaN},MICi:function(t,e,r){t.exports={default:r("K4R9"),__esModule:!0}},"NA/8":function(t,e,r){var s=r("kM2E");s(s.S,"Number",{isNaN:function(t){return t!=t}})},"Q+CH":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-tooltip",{attrs:{top:""}},[r("v-btn",t._b({attrs:{slot:"activator",icon:"",large:""},on:{click:function(e){t.isInCurrentInquiry?t.remove():t.add()}},slot:"activator"},"v-btn",t.bindings,!1),[r("v-icon",{attrs:{icon:"",dark:t.dark}},[t._v(t._s(t.isInCurrentInquiry?"remove_shopping_cart":"add_shopping_cart"))])],1),r("span",[t._v(t._s(t.isInCurrentInquiry?"Remove product from inquiry":"Add product to inquiry"))])],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},T2Xr:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",[r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"__main-card"},[r("v-card",{staticClass:"lowkey_link elevation-0",attrs:{to:{name:"products-id-name",params:{id:t.product.id,name:t.product.name}},nuxt:!0}},[r("v-card-media",{staticClass:"__filtered-product-image",attrs:{src:t.product.mainImageUrl,height:"200px"}},[r("v-container",{attrs:{"fill-height":"",fluid:""}},[r("v-layout",{attrs:{"fill-height":""}},[r("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}})],1)],1)],1),r("v-card-title",[r("div",{staticClass:"__capped-height"},[r("h3",{staticClass:"subheading mb-0",domProps:{textContent:t._s(t.product.name)}}),r("div",{staticClass:"grey--text mt-1"},[r("div",[t._v(t._s(t.formatDescription(t.product.description)))])]),r("div",{staticClass:"__fade-to-white"})])])],1),r("v-card",{staticClass:"elevation-0"},[r("v-card-actions",[t._t("info"),r("v-spacer"),r("add-remove-buttons",{attrs:{product:t.product}})],2)],1)],1)],1)],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},UiKi:function(t,e,r){"use strict";r("NYxO");var s=r("l1KS"),a=r("lgnk");e.a={data:function(t){return{truncate:s.a}},methods:{formatDescription:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=(t=t.trim()).split("\n");return e.length>1&&(t=e[0]),Object(s.a)(t,60)}},props:{product:{required:!0,type:Object}},components:{AddRemoveButtons:a.a}}},XPIt:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},cVMP:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},czqv:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",[r("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[r("h3",{staticClass:"white--text display-2 mb-3"},[t._v("Sync Products With Supplier")]),t.submitted?t._e():r("v-card",[r("v-card-text",[r("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[r("v-select",{attrs:{label:"Supplier Name",items:t.supplierNameOptions},model:{value:t.supplierName,callback:function(e){t.supplierName=e},expression:"supplierName"}}),r("v-text-field",{attrs:{label:"Table Data","multi-line":"",placeholder:t.tableDataPlaceholder},model:{value:t.tableData,callback:function(e){t.tableData=e},expression:"tableData"}}),r("v-card",[r("v-card-text",[r("v-list",[r("v-list-group",[r("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[r("v-list-tile-title",[t._v("Instructions")])],1),r("v-layout",{staticClass:"ml-3",attrs:{column:""}},[r("br"),r("p",{staticClass:"body-1 grey--text"},[t._v("* Copy and paste data from excel/sheets/etc. in the following format:")]),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{items:[["REECE_DIST_ID","SUPPLIER_ID"],["REECE_DIST_ID-XS","SUPPLIER_ID-XS"],["",""],["","SUPPLIER_ID"]],"hide-actions":"",headers:[{text:"Warehouse Id",sortable:!1},{text:"Supplier Id",sortable:!1}],"hide-headerds":""},scopedSlots:t._u([{key:"items",fn:function(e){return t._l(e.item,function(e){return r("td",{staticClass:"text-xs-left"},[t._v(t._s(e))])})}}])})],1),r("v-flex",{attrs:{xs12:""}},[r("br"),r("div",{staticClass:"body-1 grey--text"},[r("p",[t._v("Accepted input types are CSV (Comma Separated Values) and TSV (Tab Separated Values)."),r("br"),r("span",[t._v("Most table data processors copy & paste in these formats.")])]),r("p",[t._v("Supplier Id is required. Warehouse Id is optional. If Warehouse Id is not provided, product will automatically be marked as special order.")]),r("p",[t._v("If a product with a Supplier Id and corresponding Supplier Name already exists, the existing product will be updated.")]),r("p",[t._v("The id parser can extract id's from cells containing:")]),r("ul",{staticClass:"ml-4"},[r("li",[t._v("Lowercase characters")]),r("li",[t._v("Leading or trailing spaces")]),r("li",[t._v("Words after the id, separated by a space"),r("ul",{staticClass:"ml-3"},[r("li",[r("span",[t._v("  e.g. ")]),r("code",[t._v("1545-2XLRG (120EA)(2XL MAJESTIC)")])])])]),r("li",[t._v("Id's with a size suffix"),r("ul",{staticClass:"ml-3"},[r("li",[t._v("Separated by a dash"),r("ul",{staticClass:"ml-3"},[r("li",[r("span",[t._v("e.g. ")]),r("code",[t._v("1545-2XLRG")])])])]),r("li",[t._v("Separated by a slash "),r("ul",{staticClass:"ml-3"},[r("li",[r("span",[t._v("e.g. ")]),r("code",[t._v("300I/S")])])])]),r("li",[t._v("Directly connected"),r("ul",{staticClass:"ml-3"},[r("li",[r("span",[t._v("e.g.")]),r("code",[t._v("300S")])])])])])]),r("li",[t._v("Id's with trailing parenthesis")])])])])],1),r("br")],1)],1)],1)],1),r("br"),r("v-btn",{attrs:{type:"submit",color:"primary",outline:""}},[t._v("Sync")])],1)])],1),t.submitted?r("v-layout",{attrs:{row:"",wrap:""}},[100==t.progress?r("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[r("v-btn",{attrs:{icon:""},on:{click:t.restart}},[r("v-icon",{staticClass:"white--text",attrs:{large:""}},[t._v("autorenew")])],1)],1):t._e(),100!==t.progress?r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{size:100,width:15,rotate:-90,value:t.progress,color:"primary",indeterminate:0==t.progress&&t.submitted}},[r("span",[t._v(t._s(t.progress)+"%")])])],1):t._e(),r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.results,function(e){return r("v-flex",{key:e.key,attrs:{xs12:"",sm4:""}},[r("div",{staticClass:"ma-1"},[e.type==t.resultTypes.SUCCESS?r("ProductCard",{attrs:{product:e.value}},[r("div",{attrs:{slot:"info"},slot:"info"},[e.value.warehouseId?r("v-chip",{attrs:{label:""}},[r("v-icon",{attrs:{left:""}},[t._v("store ")]),t._v(t._s(e.value.warehouseId))],1):t._e()],1)]):t._e(),e.type==t.resultTypes.FAIL?r("v-card",{attrs:{color:"white"}},[r("v-card-text",[r("div",{staticClass:"headline"},[t._v("Error fetching "+t._s(e.supplierId)+" from "+t._s(e.supplierName))]),r("div",{staticClass:"body-3"},[t._v("Input:")]),r("pre",[t._v("Warehouse ID: "+t._s(e.warehouseId||"none"))]),r("pre",[t._v("Supplier ID: "+t._s(e.supplierId||"none"))]),r("pre",[t._v("Supplier: "+t._s(e.supplierName))]),r("div",{staticClass:"body-3"},[t._v("Output: ")]),r("pre",[t._v(t._s(e.value))])])],1):t._e()],1)])}))],1):t._e()],1)],1)],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},h2p5:function(t,e,r){"use strict";var s=r("UiKi"),a=r("T2Xr"),i=!1;var n=function(t){i||r("hokS")},o=r("VU/8")(s.a,a.a,!1,n,null,null);o.options.__file="components/products/Card.vue",e.a=o.exports},hokS:function(t,e,r){var s=r("ss4U");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r("rjj0")("575dc015",s,!1,{sourceMap:!1})},j7iZ:function(t,e,r){var s=r("cVMP");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r("rjj0")("45fb5493",s,!1,{sourceMap:!1})},l1KS:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=t.substr(0,e).trim();return r.length<t.length&&(r+="..."),r}},lgnk:function(t,e,r){"use strict";var s=r("4pEC"),a=r("Q+CH"),i=!1;var n=function(t){i||r("j7iZ")},o=r("VU/8")(s.a,a.a,!1,n,null,null);o.options.__file="components/inquiries/AddRemoveButtons.vue",e.a=o.exports},ss4U:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".__main-card{overflow:hidden}.__capped-height{height:12vh}",""])}});